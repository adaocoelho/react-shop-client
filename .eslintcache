[{"/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/index.js":"1","/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/reportWebVitals.js":"2","/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/App.js":"3","/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/pages/Landing.js":"4","/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/pages/About.js":"5","/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/shop/Shop.js":"6","/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/shop/Products.js":"7","/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/Header.js":"8","/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/chatbot/Chatbot.js":"9","/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/chatbot/Message.js":"10","/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/chatbot/Card.js":"11","/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/chatbot/QuickReplies.js":"12","/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/chatbot/QuickReply.js":"13","/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/pages/Login.js":"14","/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/pages/Signup.js":"15","/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/utils/auth.js":"16"},{"size":544,"mtime":1607302907800,"results":"17","hashOfConfig":"18"},{"size":362,"mtime":1607184005462,"results":"19","hashOfConfig":"18"},{"size":983,"mtime":1607513265616,"results":"20","hashOfConfig":"18"},{"size":303,"mtime":1607481909387,"results":"21","hashOfConfig":"18"},{"size":147,"mtime":1607483469409,"results":"22","hashOfConfig":"18"},{"size":228,"mtime":1607294153159,"results":"23","hashOfConfig":"18"},{"size":181,"mtime":1607294112295,"results":"24","hashOfConfig":"18"},{"size":718,"mtime":1607482047799,"results":"25","hashOfConfig":"18"},{"size":7768,"mtime":1607484555511,"results":"26","hashOfConfig":"18"},{"size":911,"mtime":1607485949240,"results":"27","hashOfConfig":"18"},{"size":999,"mtime":1607486112218,"results":"28","hashOfConfig":"18"},{"size":1708,"mtime":1607485958727,"results":"29","hashOfConfig":"18"},{"size":1029,"mtime":1607485986310,"results":"30","hashOfConfig":"18"},{"size":1751,"mtime":1607512987335,"results":"31","hashOfConfig":"18"},{"size":1446,"mtime":1607515028486,"results":"32","hashOfConfig":"18"},{"size":916,"mtime":1607514557367,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"on23t0",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"36"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"36"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/index.js",[],["69","70"],"/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/reportWebVitals.js",[],"/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/App.js",["71","72"],"import React, {useState} from \"react\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport Landing from \"./pages/Landing\";\r\nimport About from \"./pages/About\";\r\nimport Shop from \"./shop/Shop\";\r\nimport Header from \"./Header\";\r\nimport Chatbot from \"./chatbot/Chatbot\";\r\nimport Login from \"./pages/Login\";\r\nimport Signup from \"./pages/Signup\";\r\n\r\n/*const App = () => {\r\n    return (\r\n        <div>Hello</div>\r\n    )\r\n};*/\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <BrowserRouter>\r\n        <div className=\"container\">\r\n          <Header />\r\n          <Route exact path=\"/\" component={Landing} />\r\n          <Route exact path=\"/about\" component={About} />\r\n          <Route exact path=\"/shop\" component={Shop} />\r\n          <Route exact path=\"/login\" component={Login} />\r\n          <Route exact path=\"/signup\" component={Signup} />\r\n\r\n          <Chatbot />\r\n        </div>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/pages/Landing.js",[],"/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/pages/About.js",[],"/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/shop/Shop.js",[],"/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/shop/Products.js",[],"/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/Header.js",[],"/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/chatbot/Chatbot.js",["73"],"import React from \"react\"; //retirei {Component}\r\nimport axios from \"axios\";\r\nimport Message from \"./Message\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport Card from \"./Card\";\r\nimport QuickReplies from \"./QuickReplies\";\r\n\r\nconst cookies = new Cookies();\r\n\r\nclass Chatbot extends React.Component {\r\n  messagesEnd;\r\n  talkInput;\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // binding com callback\r\n    this.handleInputKeyPress = this.handleInputKeyPress.bind(this);\r\n    this.handleQuickReplyPayload = this.handleQuickReplyPayload.bind(this);\r\n\r\n    this.hide = this.hide.bind(this);\r\n    this.show = this.show.bind(this);\r\n\r\n    this.state = {\r\n      messages: [],\r\n      showBot: true, //bot sempre visivel por default\r\n    };\r\n\r\n    if (cookies.get(\"cookiesId\") === undefined) {\r\n      cookies.set(\"cookiesId\", uuid(), { path: \"/\" });\r\n    }\r\n    console.log(cookies.get(\"cookiesId\"));\r\n  }\r\n\r\n  async text_query(queryText) {\r\n    let says = {\r\n      speaks: \"me\",\r\n      msg: {\r\n        text: {\r\n          text: queryText,\r\n        },\r\n      },\r\n    };\r\n\r\n    this.setState({ messages: [...this.state.messages, says] });\r\n    const res = await axios.post(\"api/text-query\", {\r\n      text: queryText,\r\n      cookiesId: cookies.get(\"cookiesId\"),\r\n    });\r\n    for (let msg of res.data.fulfillmentMessages) {\r\n      //console.log(JSON.stringify(msg)); //ver estrutra da msg do dialogflow\r\n      says = {\r\n        speaks: \"Toby\",\r\n        msg: msg,\r\n      };\r\n      this.setState({ messages: [...this.state.messages, says] });\r\n    }\r\n  }\r\n\r\n  async event_query(eventName) {\r\n    const res = await axios.post(\"/api/event-query\", {\r\n      event: eventName,\r\n      cookiesId: cookies.get(\"cookiesId\"),\r\n    });\r\n    for (let msg of res.data.fulfillmentMessages) {\r\n      let says = {\r\n        speaks: \"me\",\r\n        msg: msg,\r\n      };\r\n      this.setState({ messages: [...this.state.messages, says] });\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.event_query(\"Welcome\");\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.messagesEnd.scrollIntoView({ behaviour: \"smooth\" });\r\n    if (this.talkInput) {\r\n      this.talkInput.focus();\r\n    }\r\n  }\r\n\r\n  // fechar e abrir bot\r\n\r\n  show(event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.setState({ showBot: true });\r\n  }\r\n\r\n  hide(event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.setState({ showBot: false });\r\n  }\r\n\r\n  //quickreplies setup\r\n  handleQuickReplyPayload(event, payload, text) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    switch (payload) {\r\n      case \"training_skateclass\":\r\n        this.event_query(\"SKATECLASS\");\r\n      default:\r\n        this.text_query(text);\r\n        break;\r\n    }\r\n  }\r\n\r\n  renderCards(cards) {\r\n    return cards.map((card, i) => <Card key={i} payload={card.structValue} />);\r\n  }\r\n\r\n  renderOneMessage(message, i) {\r\n    if (message.msg && message.msg.text && message.msg.text.text) {\r\n      return (\r\n        <Message key={i} speaks={message.speaks} text={message.msg.text.text} />\r\n      );\r\n    } else if (\r\n      message.msg &&\r\n      message.msg.payload &&\r\n      message.msg.payload.fields &&\r\n      message.msg.payload.fields.cards\r\n    ) {\r\n      return (\r\n        <div key={i}>\r\n          <div className=\"card-panel- grey lighten-5 z-depth-1\">\r\n            <div style={{ overflow: \"hidden\" }}>\r\n              <div className=\"col s2\">\r\n                <a\r\n                  href=\"/\"\r\n                  className=\"btn-floating btn-large waves-effect waves-light green\"\r\n                >\r\n                  {message.speaks}\r\n                </a>\r\n              </div>\r\n              <div style={{ overflow: \"auto\", overflowY: \"scroll\" }}>\r\n                <div\r\n                  style={{\r\n                    height: 300,\r\n                    width:\r\n                      message.msg.payload.fields.cards.listValue.values.length *\r\n                      270,\r\n                  }}\r\n                >\r\n                  {this.renderCards(\r\n                    message.msg.payload.fields.cards.listValue.values\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else if (\r\n      message.msg &&\r\n      message.msg.payload &&\r\n      message.msg.payload.fields &&\r\n      message.msg.payload.fields.quick_replies\r\n    ) {\r\n      return (\r\n        <QuickReplies\r\n          text={\r\n            message.msg.payload.fields.text\r\n              ? message.msg.payload.fields.text\r\n              : null\r\n          }\r\n          key={i}\r\n          replyClick={this.handleQuickReplyPayload}\r\n          speaks={message.speaks}\r\n          payload={message.msg.payload.fields.quick_replies.listValue.values}\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  renderMessages(returnedMessages) {\r\n    if (returnedMessages) {\r\n      return returnedMessages.map((message, i) => {\r\n        return this.renderOneMessage(message, i);\r\n      });\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  handleInputKeyPress(e) {\r\n    if (e.key === \"Enter\") {\r\n      this.text_query(e.target.value);\r\n      e.target.value = \"\";\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.state.showBot) {\r\n      return (\r\n        <div\r\n          style={{\r\n            height: 400,\r\n            width: 950,\r\n            position: \"absolute\",\r\n            bottom: 0,\r\n            right: 200,\r\n            border: \"5px solid lightdark\",\r\n          }}\r\n        >\r\n          <nav>\r\n            <div className=\"nav-wrapper\">\r\n              <a href=\"/\" className=\"brand-logo\">\r\n                Toby Hawk\r\n              </a>\r\n              <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n                <li>\r\n                  <a href=\"/\" onClick={this.hide}>\r\n                    Close\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </nav>\r\n\r\n          <div\r\n            id=\"chatbot\"\r\n            style={{ height: 388, width: \"100%\", overflow: \"auto\" }}\r\n          >\r\n            {this.renderMessages(this.state.messages)}\r\n            <div\r\n              ref={(el) => {\r\n                this.messagesEnd = el;\r\n              }}\r\n              style={{ float: \"left\", clear: \"both\" }}\r\n            ></div>\r\n          </div>\r\n          <div className=\"col s12\">\r\n            <input\r\n              style={{\r\n                margin: 0,\r\n                paddingLeft: \"1%\",\r\n                paddingRight: \"1%\",\r\n                width: \"98%\",\r\n              }}\r\n              placeholder=\"type a message\"\r\n              type=\"text\"\r\n              ref={(input) => {\r\n                this.talkInput = input;\r\n              }}\r\n              onKeyPress={this.handleInputKeyPress}\r\n            />\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div\r\n          style={{\r\n            height: 400,\r\n            width: 400,\r\n            position: \"absolute\",\r\n            bottom: 0,\r\n            right: 0,\r\n            border: \"5px solid lightdark\",\r\n          }}\r\n        >\r\n          <nav>\r\n            <div className=\"nav-wrapper\">\r\n              <a href=\"/\" className=\"brand-logo\">\r\n                Toby Hawk\r\n              </a>\r\n              <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n                <li>\r\n                  <a href=\"/\" onClick={this.show}>\r\n                    Open\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </nav>\r\n          <div\r\n            ref={(el) => {\r\n              this.messagesEnd = el;\r\n            }}\r\n            style={{ float: \"left\", clear: \"both\" }}\r\n          ></div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default Chatbot;\r\n","/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/chatbot/Message.js",[],"/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/chatbot/Card.js",[],"/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/chatbot/QuickReplies.js",[],"/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/chatbot/QuickReply.js",[],"/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/pages/Login.js",[],"/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/pages/Signup.js",[],"/mnt/c/Users/Adão Coelho/code/mycodingjunk/shopreactclient/src/components/utils/auth.js",[],{"ruleId":"74","replacedBy":"75"},{"ruleId":"76","replacedBy":"77"},{"ruleId":"78","severity":1,"message":"79","line":1,"column":16,"nodeType":"80","messageId":"81","endLine":1,"endColumn":24},{"ruleId":"78","severity":1,"message":"82","line":2,"column":32,"nodeType":"80","messageId":"81","endLine":2,"endColumn":38},{"ruleId":"83","severity":1,"message":"84","line":107,"column":7,"nodeType":"85","messageId":"86","endLine":109,"endColumn":15},"no-native-reassign",["87"],"no-negated-in-lhs",["88"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'Switch' is defined but never used.","no-fallthrough","Expected a 'break' statement before 'default'.","SwitchCase","default","no-global-assign","no-unsafe-negation"]